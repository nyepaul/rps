<VirtualHost 0.0.0.0:8087>
    ServerName rps.pan2.app
    ServerAlias rps.pan2.app localhost
    ServerAdmin admin@pan2.app

    # Proxy configuration
    ProxyPreserveHost On
    ProxyRequests Off

    # Proxy all requests to Flask backend (on port 5137)
    ProxyPass / http://localhost:5137/
    ProxyPassReverse / http://localhost:5137/

    # WebSocket support (if needed for future features)
    # ProxyPass /ws ws://localhost:5137/ws
    # ProxyPassReverse /ws ws://localhost:5137/ws

    ErrorLog ${APACHE_LOG_DIR}/rps-error.log
    CustomLog ${APACHE_LOG_DIR}/rps-access.log combined

    # Security headers
    <IfModule mod_headers.c>
        Header always set X-Content-Type-Options "nosniff"
        Header always set X-Frame-Options "SAMEORIGIN"
        Header always set X-XSS-Protection "1; mode=block"
        Header always set Referrer-Policy "strict-origin-when-cross-origin"
    </IfModule>
</VirtualHost>
